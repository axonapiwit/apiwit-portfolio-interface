# Loading / Boot Screen

## Concept
หน้าแรกที่ user เห็นเมื่อเข้าเว็บ จำลองการบูทโปรแกรม APIWIT.EXE
แสดงครั้งเดียวต่อ session (ใช้ sessionStorage)

## Layout
- full screen, centered content
- bg: #0a0a0a (pure dark)
- flex column, items-center, justify-center

## Sequence (GSAP Timeline ~3s)
1. `0.0s` - จอดำ 0.5s
2. `0.5s` - ข้อความ typing effect: `APIWIT.EXE`
   - font: Kanit 600, 48px (mobile 32px), color: accent red
   - typing speed: ~80ms/char
3. `1.5s` - subtitle fade in: `initializing system...`
   - font: monospace, 14px, color: text-secondary
4. `1.8s` - progress bar appear + fill
   - width: 300px (mobile 240px), height: 4px
   - bg-track: white/10, bg-fill: accent red
   - fill duration: 1.2s, ease: power2.inOut
   - percentage counter ด้านขวา: `0% → 100%`
5. `3.0s` - screen fade out / slide up → reveal main content

## Component Structure
```
<BootScreen>
  <div class="boot-title">APIWIT.EXE</div>
  <div class="boot-subtitle">initializing system...</div>
  <div class="boot-progress">
    <div class="boot-progress-bar" />
    <span class="boot-progress-percent">36%</span>
  </div>
</BootScreen>
```

## Logic - Initial Boot
- state: `isBooting` → true on mount, false after sequence
- sessionStorage key: `apiwit-booted`
- ถ้า booted แล้ว → skip, แสดง main content ทันที
- GSAP timeline `.play()` on mount → `onComplete` set booted
- `prefers-reduced-motion`: skip animation, show main ทันที

---

## Breakpoint Transition Screen (Resize Loader)

เทคนิคที่ใช้ในหลายเว็บ creative/awwwards:
เมื่อ user resize หน้าจอข้าม breakpoint (desktop ↔ mobile)
จะแสดง transition screen สั้น ๆ เพื่อซ่อน layout shift แล้ว re-render layout ใหม่

### Trigger Condition
- track `window.innerWidth` ด้วย `resize` event (debounce 150ms)
- กำหนด breakpoint threshold: **768px** (md)
- ถ้า resize ข้ามจาก `>=768` → `<768` หรือ `<768` → `>=768` → trigger transition
- resize ภายใน zone เดียวกัน (เช่น 800→1000) → ไม่ trigger

### Transition Sequence (เร็ว ~1s)
1. `0.0s` - overlay fade in: bg-black, opacity 0→1, duration 0.2s
2. `0.2s` - แสดงข้อความ `reconfiguring...` หรือ `adapting layout...`
   - font: monospace, 14px, text-secondary
   - optional: mini progress bar flash
3. `0.8s` - overlay fade out: opacity 1→0, duration 0.2s
4. `1.0s` - remove overlay, content พร้อมใช้งาน

### Visual Style
- เหมือน boot screen แต่ minimal กว่า (ไม่มี full typing sequence)
- bg: #0a0a0a
- text กลางจอ + optional blinking cursor `_`
- ไม่มี progress bar แบบเต็ม แค่ text + fade

### Implementation Notes
```
useBreakpointTransition(breakpoint: number)
  - prevZone = useRef<"mobile" | "desktop">()
  - ใช้ ResizeObserver หรือ window resize + debounce
  - เมื่อ zone เปลี่ยน → set showTransition = true
  - GSAP timeline play → onComplete set false
  - overlay อยู่ใน portal (fixed, z-[9999], pointer-events-none ตอน hidden)
```

### Edge Cases
- ไม่ trigger ตอน initial load (boot screen จัดการแล้ว)
- ไม่ trigger ถ้า boot screen ยังแสดงอยู่
- DevTools resize ที่ drag ค้าง → debounce กัน spam
- mobile device rotate (orientation change) → trigger ได้เช่นกัน
- `prefers-reduced-motion`: instant cut ไม่มี fade animation
